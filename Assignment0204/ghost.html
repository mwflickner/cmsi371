<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Ghost</title>
  </head>
  <body>
    <!--From dondi/bazzar/canvas-template -->
    <canvas id="canvas" width="512" height="512" style="border-style: solid; background-color: black;">
      Sorry, but you need a web browser that supports the
      <code>canvas</code> element.
    </canvas>

    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="ghost.js"></script>
    <script>
      (function () {
        var canvas = document.getElementById("canvas");
        var renderingContext = canvas.getContext("2d");
        var drawScene = function(){

          function createGhost(x,y,eyeDirection,color,mood,canBeEaten,isEaten){
            renderingContext.save();
            renderingContext.translate(x,y);
            SpriteLibrary.ghost({
              renderingContext: renderingContext,
              eyeDirection: eyeDirection,
              canBeEaten: canBeEaten,
              ghostColor: color,
              mood: mood,
              isEaten: isEaten
            });
            renderingContext.restore();
          }

          
          var y = 250;
          createGhost(120, y, "right", "orange", "happy", false, false);
          createGhost(240, y, "down", "cyan", "meh", false, false);
          createGhost(360, y, "straight", "red", "sad", true, false);
          
          window.requestAnimationFrame(drawScene);
        };
        window.requestAnimationFrame(drawScene);

      }());
    </script>
  </body>

</html>